{% extends "base.html" %}
{% block title %}
    Instrumentoversikt
{% endblock title %}

{% block css %}
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs5/jq-3.6.0/dt-1.11.3/datatables.min.css"/>
{% endblock css %}

{% block page %}
<article>
    <h1> Instrumentoversikt </h1>
    <table class="table table-striped table-sm" id="instrument_overview">
        <thead>
            <tr>
                <th> Instrument </th>
                <th> Type </th>
                <th> Stad </th>
                <th> Vert lÃ¥nt av </th>
                <th> Serienummer </th>
                <th> Kommentar </th>
                <th> Tilstand </th>
            </tr>
        </thead>
        <tbody>
            {% for instrument in instruments %}
            <tr data-state="{{ instrument.state }}"
                class="
                    {% if instrument.state == "GOOD" %}
                        bg-success
                    {% elif instrument.state == "OK" %}
                        bg-info
                    {% elif instrument.state == "BAD" %}
                        bg-warning
                    {% elif instrument.state == "UNPLAYABLE" %}
                        bg-danger
                    {% endif %}
                    ">
                <td> {{ instrument }} </td>
                <td> {{ instrument.type }} </td>
                <td> {{ instrument.location }} </td>
                <td> {% if instrument.user %}{{ instrument.user }}{% endif %} </td>
                <td> {{ instrument.serial_number }} </td>
                <td> {{ instrument.comment }} </td>
                <td data-order="
                    {% if instrument.state == "GOOD" %}
                        1
                    {% elif instrument.state == "OK" %}
                        2
                    {% elif instrument.state == "BAD" %}
                        3
                    {% elif instrument.state == "UNPLAYABLE" %}
                        4
                    {% endif %}
                    ">
                    {{ instrument.get_state_display }}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</article>
{% endblock page %}

{% block js %}
    <script src="https://cdn.datatables.net/v/bs5/jq-3.6.0/dt-1.11.3/datatables.min.js"></script>
    {% load static %}
    <script src="{% static "instruments/instrument_list.js" %}"></script>
{% endblock js %}

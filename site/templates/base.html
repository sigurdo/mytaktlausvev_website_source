{% extends 'base_base.html' %}
{% block navbar %}
	<nav class="navbar navbar-expand-xl fixed-top navbar-dark bg-primary">
		<div class="container-fluid">
			<a
				class="navbar-brand"
				href="{% if user.is_authenticated %} {% url 'dashboard:dashboard' %} {% else %} {% url 'articles:ArticleDetail' 'om-oss' %} {% endif %}"
			>
				{% load static %}
				<img class="w-16 me-2" src="{% static 'images/logo.svg' %}">
				<span class="d-none d-sm-inline fw-bold">Studentorchesteret Dei Taktlause</span>
			</a>

			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#collapsable"
				aria-controls="collapsable" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse" id="collapsable">
				<ul class="navbar-nav me-auto">
					<li class="nav-item {% if 'om-oss' in request.path %} active {% endif %}">
						<a class="nav-link" href="{% url 'articles:ArticleDetail' 'om-oss' %}">Om oss</a>
					</li>
					<li class="nav-item {% if 'julekalender' in request.path %} active {% endif %}">
						<a class="nav-link" href="{% url 'advent_calendar:AdventCalendarList' %}">Julekalender</a>
					</li>
					<li class="nav-item">
						<a class="nav-link {% if 'hendingar' in request.path %} active {% endif %}"
							href="{% url 'events:EventList' %}">Hendingar</a>
					</li>
					<li class="nav-item">
						<a class="nav-link {% if 'sitat' in request.path %} active {% endif %}"
							href="{% url 'quotes:quotes' %}">Sitat</a>
					</li>
					<li class="nav-item">
						<a class="nav-link {% if 'notar' in request.path %} active {% endif %}"
							href="{% url 'sheetmusic:ScoreList' %}">Notar</a>
					</li>
					<li class="nav-item">
						<a class="nav-link {% if 'repertoar' in request.path %} active {% endif %}"
							href="{% url 'repertoire:RepertoireList' %}">Repertoar</a>
					</li>
					<li class="nav-item">
						<a class="nav-link {% if 'instrument' in request.path %} active {% endif %}"
							href="{% url 'instruments:InstrumentList' %}">Instrument</a>
					</li>
					<li class="nav-item">
						<a class="nav-link {% if 'uniformer' in request.path %} active {% endif %}"
							href="{% url 'uniforms:JacketList' %}">Uniformer</a>
					</li>
					<li class="nav-item">
						<a class="nav-link {% if 'songar' in request.path %} active {% endif %}"
							href="{% url 'articles:ArticleDetail' 'songar' %}">Songar</a>
					</li>
					<li class="nav-item">
						<a class="nav-link {% if 'wiki' in request.path %} active {% endif %}"
							href="{% url 'articles:ArticleDetail' 'wiki' %}">Wiki</a>
					</li>
					<li class="nav-item">
						<a class="nav-link {% if 'buttons' in request.path %} active {% endif %}"
							href="{% url 'buttons:ButtonsView' %}">Buttons</a>
					</li>
				</ul>
				<ul class="nav navbar-nav">
					<li class="nav-item">
						<span class="navbar-text">
							{% if user.is_authenticated %}
							<span>Innlogga som <a href="{% url 'accounts:ProfileDetail' user.slug %}">{{user.username}}</a>!</span>
							<a href="{% url 'logout' %}?next=/">Logg ut</a>
							{% else %}
							<span>Du er ikkje innlogga. <a href="{% url 'login' %}">Logg inn</a></span>
							{% endif %}
						</span>
					</li>
				</ul>
			</div>
		</div>
	</nav>
{% endblock navbar %}

{% block body %}
	{% if messages %}
	<header class="container">
		<ul class="list-unstyled">
			{% for message in messages %}
				<li class="alert {{ message.tags }} alert-dismissible fade show" role="alert">
					{{ message }}
					<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
				</li>
			{% endfor %}
		</ul>
	</header>
	{% endif %}

	<div class="mt-4 {% block container_class %}container{% endblock container_class %}">
		<div class="row">
			<main class="col">
				{% block page %}
				{% endblock page %}
			</main>

			{% block sidebar %}
			<aside class="col-12 col-lg-3">
				{% load sidebar %}
				{% sidebar user %}
			</aside>
			{% endblock sidebar %}
		</div>
	</div>
{% endblock body %}

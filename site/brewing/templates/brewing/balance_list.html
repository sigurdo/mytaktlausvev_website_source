{% extends 'base.html' %}
{% block sidebar %}{% endblock sidebar %}

{% block css %}
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs5/jq-3.6.0/dt-1.11.3/datatables.min.css"/>
{% endblock css %}

{% block title_page%}Saldoar{%endblock title_page%}

{% block title_content%}Saldoar{% endblock title_content%}

{% block content %}
    <div class="table-responsive">
    <table class="table table-striped table-sm" id="table-balance">
        <thead>
            <tr>
                <th></th>
                <th>Namn</th>
                <th>Innbetalt</th>
                <th>Kj√∏pt</th>
                <th>Saldo</th>
            </tr>
        </thead>
        <tbody class="align-middle">
            {% for user in users %}
                 <tr>
                     <td style="width: 60px;">
                        <div class="mx-auto" style="width: 40px; height: 40px;">
                            <a
                                href="{% url 'accounts:ProfileDetail' user.slug %}"
                                class="d-flex justify-content-center w-100 h-100"
                            >
                                <img
                                    src="{{ user.get_avatar_url }}"
                                    class="object-fit-cover mw-100 mh-100"
                                />
                            </a>
                        </div>
                    </td>
                    <td>
                        <a href="{{ user.get_absolute_url }}">
                            {{ user }}
                        </a>
                    </td>
                    <td>
                        {{ user.deposited }}
                    </td>                    
                    <td>
                        {{ user.purchased }}
                    </td>
                    <td class="{% if user.balance < 0 %} bg-danger {% else %} bg-success {% endif %}">
                        {{ user.balance }}
                    </td>
                 </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock content %}

{% block js %}
    <script src="https://cdn.datatables.net/v/bs5/jq-3.6.0/dt-1.11.3/datatables.min.js"></script>
    {% load static %}
    <script src="{% static "brewing/balance_list.js" %}"></script>
{% endblock js %}

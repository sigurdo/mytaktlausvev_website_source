{% extends 'base.html' %}

{% block title %} Notearkiv {% endblock title %}

{% block page %}
<article>
    <h1> Alle notar </h1>

    {% if scores %}
    <table class="table table-striped table-sm">
        <thead>
            <tr>
                <th class="col-form-label">
                    Namn
                </th>

                <th class="col-form-label">
                    Favorittstemme
                </th>

                <th class="col-form-label">
                    Arrangement
                </th>

                <th class="col-form-label">
                    Opphaveleg ifr√•
                </th>
            </tr>
        </thead>

        <tbody>
            {% for score in scores %}
                <tr id="tr-{{score.slug}}">
                    <td>
                        <a class="larger-link" data-larger-link-target="#tr-{{score.slug}}" href="{% url "sheetmusic:ScoreView" score.slug %}">
                            {{ score.title }}
                        </a>
                    </td>

                    <td>
                        {% load has_favorite_part %}
                        {% has_favorite_part user score as has_favorite_part %}
                        {% if has_favorite_part %}
                            <a href="{% url "sheetmusic:FavoritePartPdf" score.slug %}"> Favorittstemme </a>
                        {% endif %}
                    </td>

                    <td>
                        {{ score.arrangement }}
                    </td>

                    <td>
                        {{ score.originally_from }}
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <p>
        ({{ scores|length }} not{{ scores|length|pluralize:"e,ar" }})
    </p>
    {% endif %}

    {% if perms.sheetmusic.add_score %}
        <a href="{% url 'sheetmusic:ScoreCreate' %}" class="btn btn-primary"> Ny note </a>
    {% endif %}
</article>
{% endblock page %}

{% block js %}
    {% load static %}
    <script src="{% static "common/js/larger_link.js" %}"></script>
{% endblock js %}
